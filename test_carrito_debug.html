<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Carrito Debug</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .product-card-featured { border: 1px solid #ddd; padding: 15px; margin: 10px; display: inline-block; }
        .btn-add-cart { background: #28a745; color: white; padding: 10px 15px; border: none; cursor: pointer; }
        .cart-icon { position: fixed; top: 20px; right: 20px; font-size: 24px; }
        .cart-badge { background: red; color: white; border-radius: 50%; padding: 2px 6px; position: absolute; top: -5px; right: -5px; }
    </style>
</head>
<body>
    <h1>Test de Funcionalidad del Carrito</h1>
    
    <!-- Simular header con carrito -->
    <div class="cart-icon">
        🛒
        <span class="cart-badge" style="display: none;">0</span>
    </div>
    
    <!-- Simular cards de productos -->
    <div class="product-card-featured">
        <h3 class="product-name"><a href="#">Alimento Premium Perro</a></h3>
        <div class="current-price">$25000</div>
        <button class="btn-add-cart" 
                data-id="1"
                data-nombre="Alimento Premium Perro"
                data-precio="25000"
                data-imagen="alimento1.jpg">
            🛒 Agregar al carrito
        </button>
    </div>
    
    <div class="product-card-featured">
        <h3 class="product-name"><a href="#">Juguete para Gato</a></h3>
        <div class="current-price">$15000</div>
        <button class="btn-add-cart" 
                data-id="2"
                data-nombre="Juguete para Gato"
                data-precio="15000"
                data-imagen="juguete1.jpg">
            🛒 Agregar al carrito
        </button>
    </div>
    
    <!-- Simular página de detalle -->
    <div style="border: 2px solid blue; margin: 20px 0; padding: 15px;">
        <h2>Simulación Página de Detalle</h2>
        <p class="id">3</p>
        <h2 id="nombre">Collar Cuero Premium</h2>
        <p id="descripcion">Collar de cuero genuino para perros</p>
        <p id="categoria">categoria: accesorios</p>
        <p id="color">color disponible: marrón</p>
        <p id="precio">$35000</p>
        <button class="add-to-cart-button">Añadir al carro</button>
    </div>
    
    <div style="margin-top: 20px;">
        <h3>Debug:</h3>
        <button onclick="mostrarCarrito()">Ver contenido del carrito</button>
        <button onclick="limpiarCarrito()">Limpiar carrito</button>
        <div id="debug-output"></div>
    </div>
    
    <script>
        function mostrarCarrito() {
            const carrito = JSON.parse(localStorage.getItem('carrito')) || [];
            document.getElementById('debug-output').innerHTML = 
                '<pre>' + JSON.stringify(carrito, null, 2) + '</pre>';
        }
        
        function limpiarCarrito() {
            localStorage.removeItem('carrito');
            document.querySelector('.cart-badge').style.display = 'none';
            document.getElementById('debug-output').innerHTML = 'Carrito limpiado';
        }
    </script>
    
    <script src="/js/agregarCarrito.js"></script>
</body>
</html>
