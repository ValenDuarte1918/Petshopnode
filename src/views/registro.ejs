<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="/css/registro.css">
    <title>PetShop Innovador - Home</title>
</head>
<body>
    <%- include('partials/header') %> 
    <h1>Registro de Usuario</h1>
    <main class="main">  
        <ul class="errores"></ul> 
        <form action="/user/registro" method="POST" enctype="multipart/form-data">
        <h2>Registrate</h2>
        <div class="textbox">
            <i class="fas fa-user"></i>
            <label  for="nombre">Nombre:</label>
        <input class="errors" value="<%= locals.old? old.nombre: null %>" type="text" id="nombre" name="nombre">
                 <% if(locals.errors && errors.nombre){ %>
                    <div style='color:red'>
                   <p><%= errors.nombre.msg %></p>
                    </div>
        <% } %>
        </div>
        <div class="textbox">
            <i class="fas fa-user"></i>
            <label for="apellido">Apellido:</label>
        <input value="<%= locals.old? old.apellido: null %>" type="text" id="apellido" name="apellido">
                 <% if(locals.errors && errors.apellido){ %>
                    <div style='color:red'>
                   <p><%= errors.apellido.msg %></p>
                    </div>
                    
        <% } %>
        </div>
        <div class="textbox">
            <i class="fas fa-envelope"></i>
            <label for="correo">Correo Electrónico:</label>
        <input value="<%= locals.old? old.correo: null %>" type="email" id="correo" name="correo">
        <% if(locals.errors && errors.correo){ %>
            <div style='color:red'>
            <p><%= errors.correo.msg %></p>
</div>
<% } %>
        
        <div class="textbox">
            <i class="fas fa-lock"></i>
            <input value="<%= locals.old? old.contrasena: null %>" type="password" id="contrasena" name="contrasena">
            <% if(locals.errors && errors.contrasena){ %>
                <div style='color:red'>
                    <p><%= errors.contrasena.msg %></p>
    </div>
    <% } %>
        </div>
        <label for="categoria">Categoria:</label>
        <select id="categoria" name="categoria">
            <option value="">Seleccionar categoria</option>
            <% let categorias = ['Administrador', 'Cliente'] %>
            <% for(let categoria of categorias) {%>
                <option value="<%= categoria %>" <%= locals.old && (categoria == old.categoria)? 'selected' : null %>><%= categoria %></option>
                <% } %>
            <!-- Agrega más opciones de países aquí -->
        </select>
        <% if(locals.errors && errors.categoria){ %>
            <div style='color:red'>
                <p><%= errors.categoria.msg %></p>
</div>
<% } %>
<div>
<label for="foto_perfil">Foto de Perfil:</label>
<input type="file" id="foto_perfil" name="foto_perfil">
<% if(locals.errors && errors.foto_perfil){ %>
    <div style='color:red'>
        <p><%= errors.foto_perfil.msg %></p>
</div>
<% } %>
        <input class="btn" type="submit" name="" value="Registrarse">
        <a href="/user/login">¿Ya tienes cuenta? Inicia sesión</a>
    </div>
    </form>
    </main>    
    <%- include('partials/footer') %>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="/js/registroValidations.js"></script>
</body>
