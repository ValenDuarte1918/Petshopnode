<%- include('partials/header', { page: 'home' }) %>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container">
      <div class="hero-content">
        <div class="hero-text">
          <h1 class="hero-title">üêæ Todo para tu Mascota en un Solo Lugar</h1>
          <p class="hero-subtitle">Encuentra productos premium para perros, gatos, aves y peces. Calidad garantizada y env√≠o gratis en compras superiores a $45.000</p>
          <div class="hero-actions">
            <a href="#categorias" class="btn btn-primary btn-lg">
              <i class="fas fa-paw"></i> Explorar Productos
            </a>
            <a href="#ofertas" class="btn btn-outline-light btn-lg">
              <i class="fas fa-tag"></i> Ver Ofertas
            </a>
          </div>
          <div class="hero-stats">
            <div class="stat">
              <strong>10,000+</strong>
              <span>Clientes felices</span>
            </div>
            <div class="stat">
              <strong>500+</strong>
              <span>Productos premium</span>
            </div>
            <div class="stat">
              <strong>24/48h</strong>
              <span>Entrega r√°pida</span>
            </div>
          </div>
        </div>
        <div class="hero-image">
          <img src="/images/home/hero-pet.jpg" alt="Mascotas felices" />
        </div>
      </div>
    </div>
  </section>

  <!-- Shop by Pet Section -->
  <section class="shop-by-pet" id="categorias">
    <div class="container">
      <div class="section-header text-center">
        <h2 class="section-title">üéØ Compra por Mascota</h2>
        <p class="section-subtitle">Productos especializados para cada tipo de compa√±ero</p>
      </div>
      
      <div class="pets-grid">
        <a href="/productos/categoria/perros" class="pet-card large" data-aos="fade-up">
          <div class="pet-image">
            <img src="/images/home/dog-category.jpg" alt="Productos para Perros" />
            <div class="pet-overlay">
              <span class="pet-badge">+200 productos</span>
              <span class="pet-discount">Hasta 30% OFF</span>
            </div>
          </div>
          <div class="pet-content">
            <i class="fas fa-dog pet-icon"></i>
            <h3>üêï Perros</h3>
            <p>Alimentos, juguetes, accesorios y m√°s</p>
            <div class="pet-categories">
              <span>Alimentos</span>
              <span>Juguetes</span>
              <span>Accesorios</span>
            </div>
          </div>
        </a>
        
        <a href="/productos/categoria/gatos" class="pet-card" data-aos="fade-up" data-aos-delay="100">
          <div class="pet-image">
            <img src="/images/home/cat-category.jpg" alt="Productos para Gatos" />
            <div class="pet-overlay">
              <span class="pet-badge">+150 productos</span>
            </div>
          </div>
          <div class="pet-content">
            <i class="fas fa-cat pet-icon"></i>
            <h3>üê± Gatos</h3>
            <p>Arena, rascadores, comida especial</p>
            <div class="pet-categories">
              <span>Arena</span>
              <span>Rascadores</span>
              <span>Higiene</span>
            </div>
          </div>
        </a>
        
        <a href="/productos/categoria/aves" class="pet-card" data-aos="fade-up" data-aos-delay="200">
          <div class="pet-image">
            <img src="/images/home/toys-category.jpg" alt="Productos para Aves" />
          </div>
          <div class="pet-content">
            <i class="fas fa-dove pet-icon"></i>
            <h3>üê¶ Aves</h3>
            <p>Jaulas, semillas, complementos</p>
            <div class="pet-categories">
              <span>Jaulas</span>
              <span>Semillas</span>
              <span>Accesorios</span>
            </div>
          </div>
        </a>
        
        <a href="/productos/categoria/peces" class="pet-card" data-aos="fade-up" data-aos-delay="300">
          <div class="pet-image">
            <img src="/images/home/food-category.jpg" alt="Productos para Peces" />
          </div>
          <div class="pet-content">
            <i class="fas fa-fish pet-icon"></i>
            <h3>üê† Peces</h3>
            <p>Acuarios, filtros, alimentaci√≥n</p>
            <div class="pet-categories">
              <span>Acuarios</span>
              <span>Filtros</span>
              <span>Alimentos</span>
            </div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- Quick Benefits Bar -->
  <section class="benefits-bar">
    <div class="container">
      <div class="benefits-list">
        <div class="benefit-item">
          <i class="fas fa-shipping-fast"></i>
          <div class="benefit-content">
            <strong>Env√≠o GRATIS</strong>
            <span>En pedidos +$45.000</span>
          </div>
        </div>
        <div class="benefit-item">
          <i class="fas fa-clock"></i>
          <div class="benefit-content">
            <strong>Entrega el mismo d√≠a</strong>
            <span>Disponible en CABA</span>
          </div>
        </div>
        <div class="benefit-item">
          <i class="fas fa-shield-alt"></i>
          <div class="benefit-content">
            <strong>Garant√≠a extendida</strong>
            <span>En todos los productos</span>
          </div>
        </div>
        <div class="benefit-item">
          <i class="fas fa-headset"></i>
          <div class="benefit-content">
            <strong>Soporte experto</strong>
            <span>5 d√≠as a la semana</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Products by Pet Category -->
  <section class="products-by-pet">
    <div class="container">
      <!-- Productos para Perros -->
      <div class="pet-section" data-aos="fade-up">
        <div class="pet-section-header">
          <div class="pet-icon-large">
            <i class="fas fa-dog"></i>
          </div>
          <div class="pet-section-content">
            <h3>üêï Lo Mejor para Perros</h3>
            <p>Desde cachorros hasta adultos mayores, encuentra todo lo necesario</p>
            <div class="pet-section-links">
              <a href="/productos/categoria/perros/alimentos">Alimentos</a>
              <a href="/productos/categoria/perros/juguetes">Juguetes</a>
              <a href="/productos/categoria/perros/accesorios">Accesorios</a>
              <a href="/productos/categoria/perros">Ver todos</a>
            </div>
          </div>
        </div>
        
        <% if (listaProductos && listaProductos.length > 0) { %>
          <div class="products-row">
            <% 
            const productosPerros = listaProductos.filter(p => p.categoria && p.categoria.toLowerCase().includes('perro')).slice(0, 4);
            if (productosPerros.length === 0) {
              productosPerros = listaProductos.slice(0, 4); // Fallback a primeros productos
            }
            %>
            <% productosPerros.forEach((producto, index) => { %>
              <div class="product-card-mini" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                <div class="product-image">
                  <a href="/productos/detalle/<%= producto.id %>">
                    <img src="/images/products/<%= producto.img %>" alt="<%= producto.nombre %>" onerror="this.src='/images/logo_petshop.jpeg'" />
                  </a>
                  <% if (index === 0) { %>
                    <span class="product-badge hot">üî• Top</span>
                  <% } %>
                </div>
                <div class="product-info-mini">
                  <h4><a href="/productos/detalle/<%= producto.id %>"><%= producto.nombre %></a></h4>
                  <div class="price">$<%= Number(producto.precio).toLocaleString('es-AR') %></div>
                  <button class="btn-add-cart" 
                          data-id="<%= producto.id %>"
                          data-nombre="<%= producto.nombre %>"
                          data-precio="<%= producto.precio %>"
                          data-imagen="<%= producto.img %>">
                    <i class="fas fa-cart-plus"></i>
                  </button>
                </div>
              </div>
            <% }); %>
          </div>
        <% } %>
      </div>

      <!-- Productos para Gatos -->
      <div class="pet-section" data-aos="fade-up">
        <div class="pet-section-header">
          <div class="pet-icon-large">
            <i class="fas fa-cat"></i>
          </div>
          <div class="pet-section-content">
            <h3>üê± Especial para Gatos</h3>
            <p>Arena, rascadores, comida premium y accesorios felinos</p>
            <div class="pet-section-links">
              <a href="/productos/categoria/gatos/alimentos">Alimentos</a>
              <a href="/productos/categoria/gatos/higiene-y-salud">Arena</a>
              <a href="/productos/categoria/gatos/juguetes">Rascadores</a>
              <a href="/productos/categoria/gatos">Ver todos</a>
            </div>
          </div>
        </div>
        
        <% if (listaProductos && listaProductos.length > 4) { %>
          <div class="products-row">
            <% 
            const productosGatos = listaProductos.filter(p => p.categoria && p.categoria.toLowerCase().includes('gato')).slice(0, 4);
            if (productosGatos.length === 0) {
              productosGatos = listaProductos.slice(4, 8); // Fallback a siguientes productos
            }
            %>
            <% productosGatos.forEach((producto, index) => { %>
              <div class="product-card-mini" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                <div class="product-image">
                  <a href="/productos/detalle/<%= producto.id %>">
                    <img src="/images/products/<%= producto.img %>" alt="<%= producto.nombre %>" onerror="this.src='/images/logo_petshop.jpeg'" />
                  </a>
                  <% if (index === 0) { %>
                    <span class="product-badge new">‚ú® Nuevo</span>
                  <% } %>
                </div>
                <div class="product-info-mini">
                  <h4><a href="/productos/detalle/<%= producto.id %>"><%= producto.nombre %></a></h4>
                  <div class="price">$<%= Number(producto.precio).toLocaleString('es-AR') %></div>
                  <button class="btn-add-cart" 
                          data-id="<%= producto.id %>"
                          data-nombre="<%= producto.nombre %>"
                          data-precio="<%= producto.precio %>"
                          data-imagen="<%= producto.img %>">
                    <i class="fas fa-cart-plus"></i>
                  </button>
                </div>
              </div>
            <% }); %>
          </div>
        <% } %>
      </div>
    </div>
  </section>

  <!-- Special Offers Section -->
  <section class="special-offers" id="ofertas">
    <div class="container">
      <div class="offers-banner">
        <div class="offer-content">
          <span class="offer-badge">üéâ OFERTA ESPECIAL</span>
          <h2>15% OFF en marcas premium</h2>
          <p>Cuando gastas $60.000+ en comida seleccionada*</p>
          <div class="offer-actions">
            <a href="/productos/categoria/perros/alimentos" class="btn btn-primary">Comprar Perros</a>
            <a href="/productos/categoria/gatos/alimentos" class="btn btn-outline-light">Comprar Gatos</a>
          </div>
        </div>
        <div class="offer-brands">
          <img src="/images/home/brand-royal-canin.jpg" alt="Royal Canin" class="brand-logo">
          <div class="offer-details">
            <span class="offer-text">15% OFF pr√≥xima compra</span>
            <span class="offer-brands-list">Royal Canin, Pro Plan, Hills</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Featured Products Section -->
  <section class="featured-products">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">‚≠ê Productos M√°s Vendidos</h2>
        <p class="section-subtitle">Los favoritos de nuestros clientes con las mejores valoraciones</p>
        <a href="/productos" class="view-all-link">
          Ver todos los productos <i class="fas fa-arrow-right"></i>
        </a>
      </div>

      <% if (listaProductos && listaProductos.length > 0) { %>
        <div class="products-carousel">
          <div class="products-track">
            <% listaProductos.slice(0, 6).forEach((producto, index) => { %>
              <div class="product-card-featured" data-aos="fade-up" data-aos-delay="<%= index * 100 %>">
                <div class="product-image">
                  <a href="/productos/detalle/<%= producto.id %>">
                    <img src="/images/products/<%= producto.img %>" alt="<%= producto.nombre %>" onerror="this.src='/images/logo_petshop.jpeg'" />
                  </a>
                  <% if (index === 0) { %>
                    <span class="product-badge bestseller">üèÜ #1 M√°s vendido</span>
                  <% } else if (index < 3) { %>
                    <span class="product-badge popular">‚≠ê Popular</span>
                  <% } else { %>
                    <span class="product-badge new">‚ú® Recomendado</span>
                  <% } %>
                  <div class="product-actions">
                    <button class="action-btn favorite" title="Favorito">
                      <i class="far fa-heart"></i>
                    </button>
                  </div>
                </div>
                
                <div class="product-info">
                  <div class="product-brand">PetShop Premium</div>
                  <h3 class="product-name">
                    <a href="/productos/detalle/<%= producto.id %>"><%= producto.nombre %></a>
                  </h3>
                  <div class="product-rating">
                    <div class="stars">
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star"></i>
                      <i class="fas fa-star-half-alt"></i>
                    </div>
                    <span class="rating-count">(125+ reviews)</span>
                  </div>
                  <div class="product-price">
                    <% if (index < 3) { %>
                      <span class="sale-price">$<%= Number(producto.precio * 0.85).toLocaleString('es-AR') %></span>
                      <span class="old-price">$<%= Number(producto.precio).toLocaleString('es-AR') %></span>
                      <span class="discount">-15%</span>
                    <% } else { %>
                      <span class="current-price">$<%= Number(producto.precio).toLocaleString('es-AR') %></span>
                    <% } %>
                  </div>
                  <button class="btn-add-cart" 
                          data-id="<%= producto.id %>"
                          data-nombre="<%= producto.nombre %>"
                          data-precio="<%= producto.precio %>"
                          data-imagen="<%= producto.img %>">
                    <i class="fas fa-cart-plus"></i>
                    Agregar al carrito
                  </button>
                </div>
              </div>
            <% }); %>
          </div>
        </div>
      <% } %>
    </div>
  </section>

  <!-- Trust & Brands Section -->
  <section class="trust-brands-section">
    <div class="container">
      <!-- Trust Signals -->
      <div class="trust-grid">
        <div class="trust-item" data-aos="fade-up">
          <div class="trust-icon">
            <i class="fas fa-medal"></i>
          </div>
          <div class="trust-content">
            <h4>10,000+ Clientes Satisfechos</h4>
            <p>Desde 2020 cuidando mascotas argentinas</p>
          </div>
        </div>
        
        <div class="trust-item" data-aos="fade-up" data-aos-delay="100">
          <div class="trust-icon">
            <i class="fas fa-user-md"></i>
          </div>
          <div class="trust-content">
            <h4>Asesoramiento Veterinario</h4>
            <p>Equipo con profesionales veterinarios</p>
          </div>
        </div>
        
        <div class="trust-item" data-aos="fade-up" data-aos-delay="200">
          <div class="trust-icon">
            <i class="fas fa-award"></i>
          </div>
          <div class="trust-content">
            <h4>Productos Certificados</h4>
            <p>Solo vendemos calidad premium aprobada</p>
          </div>
        </div>
        
        <div class="trust-item" data-aos="fade-up" data-aos-delay="300">
          <div class="trust-icon">
            <i class="fas fa-undo"></i>
          </div>
          <div class="trust-content">
            <h4>Garant√≠a de Satisfacci√≥n</h4>
            <p>30 d√≠as para devolver si no est√°s satisfecho</p>
          </div>
        </div>
      </div>

      <!-- Brands -->
      <div class="brands-section">
        <div class="section-header">
          <h3 class="section-title">üèÜ Marcas de Confianza</h3>
          <p class="section-subtitle">Trabajamos con las mejores marcas del mercado</p>
        </div>
        
        <div class="brands-grid">
          <div class="brand-item" data-aos="zoom-in">
            <img src="/images/home/brand-royal-canin.jpg" alt="Royal Canin" />
            <span>Royal Canin</span>
          </div>
          <div class="brand-item" data-aos="zoom-in" data-aos-delay="100">
            <img src="/images/logo_petshop.jpeg" alt="Pro Plan" />
            <span>Pro Plan</span>
          </div>
          <div class="brand-item" data-aos="zoom-in" data-aos-delay="200">
            <img src="/images/logo_petshop.jpeg" alt="Hills" />
            <span>Hills</span>
          </div>
          <div class="brand-item" data-aos="zoom-in" data-aos-delay="300">
            <img src="/images/logo_petshop.jpeg" alt="Whiskas" />
            <span>Whiskas</span>
          </div>
          <div class="brand-item" data-aos="zoom-in" data-aos-delay="400">
            <img src="/images/logo_petshop.jpeg" alt="Kong" />
            <span>Kong</span>
          </div>
          <div class="brand-item" data-aos="zoom-in" data-aos-delay="500">
            <img src="/images/logo_petshop.jpeg" alt="Flexi" />
            <span>Flexi</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Newsletter & Testimonials -->
  <section class="newsletter-testimonials">
    <div class="container">
      <!-- Newsletter -->
      <div class="newsletter-section">
        <div class="newsletter-content">
          <div class="newsletter-text">
            <h3>üéÅ Ofertas Exclusivas</h3>
            <p>Suscr√≠bete y recibe descuentos especiales, nuevos productos y consejos veterinarios</p>
            <div class="newsletter-benefits">
              <span class="benefit">‚úÖ 10% OFF primera compra</span>
              <span class="benefit">‚úÖ Ofertas exclusivas</span>
              <span class="benefit">‚úÖ Consejos profesionales</span>
            </div>
          </div>
          
          <form class="newsletter-form">
            <div class="form-group">
              <input type="email" placeholder="tu@email.com" required />
              <button type="submit" class="btn btn-primary">
                <i class="fas fa-paper-plane"></i>
                Suscribirse
              </button>
            </div>
            <small class="form-privacy">üîí Respetamos tu privacidad. Cancela cuando quieras.</small>
          </form>
        </div>
      </div>

      <!-- Quick Testimonials -->
      <div class="testimonials-quick">
        <h3 class="testimonials-title">‚ù§Ô∏è Lo que dicen nuestros clientes</h3>
        <div class="testimonials-grid">
          <div class="testimonial-card" data-aos="fade-up">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Excelente calidad y precios. Mi perro ama los productos."</p>
            <div class="author">
              <img src="/images/home/avatar1.jpg" alt="Mar√≠a" />
              <div>
                <strong>Mar√≠a Gonz√°lez</strong>
                <span>Cliente desde 2023</span>
              </div>
            </div>
          </div>
          
          <div class="testimonial-card" data-aos="fade-up" data-aos-delay="100">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Env√≠o r√°pido y productos originales. Muy recomendable."</p>
            <div class="author">
              <img src="/images/home/avatar2.jpg" alt="Carlos" />
              <div>
                <strong>Carlos Mendoza</strong>
                <span>Cliente desde 2022</span>
              </div>
            </div>
          </div>
          
          <div class="testimonial-card" data-aos="fade-up" data-aos-delay="200">
            <div class="stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
            <p>"Atenci√≥n excepcional. Siempre dispuestos a ayudar."</p>
            <div class="author">
              <img src="/images/home/avatar3.jpg" alt="Ana" />
              <div>
                <strong>Ana Rodriguez</strong>
                <span>Cliente desde 2024</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <%- include('partials/footer') %>

  <!-- AOS Library for animations -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    // Initialize AOS
    AOS.init({
      duration: 800,
      easing: 'ease-in-out',
      once: true,
      offset: 100
    });

    // Smooth scroll for internal links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
        }
      });
    });

    // Add to cart functionality
    document.querySelectorAll('.add-to-cart-form').forEach(form => {
      form.addEventListener('submit', function(e) {
        const button = this.querySelector('button');
        const originalText = button.innerHTML;
        
        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Agregando...';
        button.disabled = true;
        
        // Re-enable after form submission
        setTimeout(() => {
          button.innerHTML = originalText;
          button.disabled = false;
        }, 2000);
      });
    });

    // Newsletter form
    document.querySelector('.newsletter-form-container').addEventListener('submit', function(e) {
      e.preventDefault();
      const email = this.querySelector('input[type="email"]').value;
      alert('¬°Gracias por suscribirte! Te mantendremos informado sobre nuestras ofertas.');
      this.reset();
    });
  </script>
  
  <!-- Carrito JavaScript -->
  <script src="/js/agregarCarrito.js"></script>
  
  <!-- Script de debug temporal -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      console.log('üîç DEBUG: Verificando botones de carrito en home');
      const botones = document.querySelectorAll('.btn-add-cart');
      console.log('üîç DEBUG: Encontrados', botones.length, 'botones');
      
      botones.forEach((boton, index) => {
        console.log(`üîç DEBUG: Bot√≥n ${index + 1}:`, {
          id: boton.dataset.id,
          nombre: boton.dataset.nombre,
          precio: boton.dataset.precio,
          imagen: boton.dataset.imagen,
          classes: boton.className
        });
      });
    });
  </script>
</body>
</html>